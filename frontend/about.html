<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/about.css">
    <title>About - StudySync</title>
</head>
<body>
    <header class="header">
        <div class="container">
            <a href="index.html" class="logo">StudySync</a>
            <nav class="nav">
                <a href="my-posts.html" class="nav-link">My Posts</a>
                <a href="mentorship.html" class="nav-link">Mentorship</a>
                <a href="payment.html" class="nav-link">Payment</a>
                <a href="about.html" class="nav-link active">About</a>
                <a href="contact.html" class="nav-link">Contact</a>
                <!-- Dynamic auth section - will be updated by shared-auth.js -->
                <div id="navAuthSection">
                    <a href="user-selection.html" class="btn btn-primary" id="loginBtn">Log in</a>
                    <div class="user-avatar-dropdown" id="userAvatarSection" style="display: none;">
                        <img id="navUserAvatar" src="https://via.placeholder.com/40/3b82f6/ffffff?text=U" alt="User Avatar" class="user-avatar" onclick="toggleDropdown()">
                        <div id="userDropdown" class="dropdown-content">
                            <a href="profile.html">ðŸ‘¤ Profile Settings</a>
                            <a href="#" onclick="logout()">ðŸšª Logout</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- Hero Section -->
            <section class="hero-section">
                <div class="hero-content">
                    <h1 class="hero-title">About StudySync</h1>
                    <p class="hero-subtitle">Connecting students and mentors for collaborative learning</p>
                </div>
            </section>

            <!-- Mission Section -->
            <section class="mission-section">
                <div class="content-card">
                    <h2 class="section-title">Our Mission</h2>
                    <p class="section-text">
                        StudySync is designed to bridge the gap between students seeking knowledge and experienced mentors 
                        willing to share their expertise. We believe that learning is most effective when it's collaborative, 
                        interactive, and personalized.
                    </p>
                </div>
            </section>

            <!-- What We Do Section -->
            <section class="features-section">
                <h2 class="section-title center">What StudySync Does</h2>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ðŸŽ“</div>
                        <h3 class="feature-title">Student Connections</h3>
                        <p class="feature-description">
                            Students can easily find study partners who share their academic interests and schedule preferences. 
                            Create study groups, join existing sessions, and collaborate on projects.
                        </p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ðŸ’¡</div>
                        <h3 class="feature-title">Expert Mentorship</h3>
                        <p class="feature-description">
                            Connect with experienced professionals and industry experts who can guide you through your learning journey. 
                            Get personalized advice and insights from those who've been there.
                        </p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ðŸ“…</div>
                        <h3 class="feature-title">Flexible Scheduling</h3>
                        <p class="feature-description">
                            Our platform makes it easy to coordinate study sessions that work for everyone. 
                            Post your availability and find others who match your schedule.
                        </p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ðŸŒŸ</div>
                        <h3 class="feature-title">Quality Learning</h3>
                        <p class="feature-description">
                            Focus on meaningful learning experiences through verified profiles, rating systems, 
                            and structured interaction formats that ensure productive sessions.
                        </p>
                    </div>
                </div>
            </section>

            <!-- How It Works Section -->
            <section class="how-it-works-section">
                <div class="content-card">
                    <h2 class="section-title">How It Works</h2>
                    
                    <div class="steps-container">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3 class="step-title">Sign Up</h3>
                                <p class="step-description">Choose to join as a student or mentor. Complete your profile with your interests, expertise, and availability.</p>
                            </div>
                        </div>

                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3 class="step-title">Connect</h3>
                                <p class="step-description">Browse available study sessions or mentorship opportunities. Send requests to join or offer your expertise.</p>
                            </div>
                        </div>

                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3 class="step-title">Learn Together</h3>
                                <p class="step-description">Participate in study sessions, receive guidance from mentors, and build lasting academic relationships.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Values Section -->
            <section class="values-section">
                <h2 class="section-title center">Our Core Values</h2>
                
                <div class="values-grid">
                    <div class="value-item">
                        <h3 class="value-title">Accessibility</h3>
                        <p class="value-description">Education and mentorship should be available to everyone, regardless of background or location.</p>
                    </div>

                    <div class="value-item">
                        <h3 class="value-title">Quality</h3>
                        <p class="value-description">We maintain high standards through verification processes and community feedback systems.</p>
                    </div>

                    <div class="value-item">
                        <h3 class="value-title">Community</h3>
                        <p class="value-description">Building supportive learning communities where knowledge sharing is encouraged and valued.</p>
                    </div>

                    <div class="value-item">
                        <h3 class="value-title">Growth</h3>
                        <p class="value-description">Fostering personal and professional development through meaningful connections and experiences.</p>
                    </div>
                </div>
            </section>

            <!-- CTA Section -->
            <section class="cta-section">
                <div class="cta-content">
                    <h2 class="cta-title">Ready to Start Learning?</h2>
                    <p class="cta-description">Join thousands of students and mentors who are already part of the StudySync community.</p>
                    <div class="cta-buttons">
                        <a href="user-selection.html" class="btn btn-primary btn-large">Get Started</a>
                        <a href="contact.html" class="btn btn-outline btn-large">Contact Us</a>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script>
        // Load user data when page loads (copied from working profile page)
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
        });

        function checkLoginStatus() {
            const accessToken = localStorage.getItem('access_token');
            const userData = localStorage.getItem('user_data');
            
            const loginBtn = document.getElementById('loginBtn');
            const userAvatarSection = document.getElementById('userAvatarSection');
            
            if (accessToken && userData) {
                // User is logged in - show avatar dropdown
                if (loginBtn) loginBtn.style.display = 'none';
                if (userAvatarSection) userAvatarSection.style.display = 'block';
                
                // Load avatar using EXACT same logic as profile page
                try {
                    const user = JSON.parse(userData);
                    updateNavbarAvatar(user, user.profile);
                } catch (e) {
                    console.error('Error parsing user data:', e);
                    updateNavbarAvatar({ first_name: 'User', last_name: '' }, null);
                }
            } else {
                // User is not logged in - show login button
                if (loginBtn) loginBtn.style.display = 'inline-block';
                if (userAvatarSection) userAvatarSection.style.display = 'none';
            }
        }

        // EXACT same avatar logic as working profile page
        function updateNavbarAvatar(user, profile = null) {
            const firstName = user?.first_name || '';
            const lastName = user?.last_name || '';
            
            // Update navbar avatar with smaller default (EXACT same as profile page)
            const navDefaultAvatar = 'https://via.placeholder.com/40/3b82f6/ffffff?text=' + 
                encodeURIComponent((firstName[0] || '') + (lastName[0] || ''));
            const navAvatarSrc = profile?.profile_picture || user?.profile_picture || navDefaultAvatar;
            
            const navAvatar = document.getElementById('navUserAvatar');
            if (navAvatar) {
                navAvatar.src = navAvatarSrc;
                console.log('âœ… About page avatar loaded:', navAvatarSrc);
            }
        }

        function toggleDropdown() {
            const dropdown = document.getElementById("userDropdown");
            if (dropdown) dropdown.classList.toggle("show");
        }

        function logout() {
            localStorage.removeItem('access_token');
            localStorage.removeItem('refresh_token');
            localStorage.removeItem('user_data');
            window.location.href = 'index.html';
        }

        // Close dropdown when clicking outside
        window.onclick = function(event) {
            if (!event.target.matches('.user-avatar')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
    </script>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 StudySync. All rights reserved.</p>
            </div>
        </div>
    </footer>
</body>
</html>
